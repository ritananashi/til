※スクール内timesの移植（2025/09/16）


- 学習時間：6h/24h/810h
- 学習内容：卒制
  

いいね機能とブックマーク機能が完成しました。

いいね機能のいいね数のカウントをブロードキャストでやるかを悩んだけど、Redisのコストとかも考えると、とりあえず普通にTurbo_streamでAjax化するだけにして、いいねカウントのリアルタイム更新はなしにしました。

リアルタイムで投稿を読み込むタイプのアプリじゃないからそんなに重要じゃないかなって思います。

ブックマーク機能はほぼRails基礎…だけど、ルーティングだけusersのmenberにしてます。プロフィール画面からブックマーク一覧をみるし、ほかのユーザーのブックマーク一覧も閲覧できるようにする関係でidがいるので。

でも、idはURLに表示させないでユーザーが設定したユーザーIDを表示させるようにしているので、そこの設定もやりました。

プロフィール機能作ったときのやつをちょっと変えただけ。

プロフィール画面でタブをクリックして投稿一覧とブックマーク一覧を出し分けするので、Turbo_frameを使おうかとちょっと思いましたが、Turbo_frame内のリンクをクリックするとTurbo_frameとしてレンダリングされちゃうのでやめました。
  

あとは複数ワードで検索できるようにしてました。

AND検索でやろうとしてましたが、AND検索だとどうもうまく検索結果が出ないので、今はOR検索にしてます。

ログのSQLとにらめっこしてもうちょっといろいろ試してみようと思いますが、正直OR検索で支障がなさそうなのでこのまま行ってもいいかも…とは思いました。
  
ようやく1週目のissueが終わりそうです。いまいち筆がのらなかったり、画像変換とか始めてやることで時間を使っていたので、ここから巻き返していきたいなあとは思いますが、どうなるか…。

とにもかくにも頑張ります。

