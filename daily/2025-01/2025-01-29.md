
📖[プロを目指す人のためのRuby入門［改訂2版］ 言語仕様からテスト駆動開発・デバッグ技法まで](https://gihyo.jp/book/2021/978-4-297-12437-3)

#### 文字列

- シングルクオートとダブルクオート  
  ""か''で囲むことで文字列を作れる。  
  - ダブルクオート  
    文字列中に改行文字（\n）やキャリッジリターン（\r）、タブ文字（\t）を埋め込める。  
    式展開が使える。  
    改行文字や式展開の機能を打ち消したいときは手前に\を付ける。  
    ダブルクオートを文字列中で使いたいときは、\を使う。  
  - シングルクオート  
    式展開できない。#{}をただの文字列とみなす。  
    シングルクオートを文字列中で使いたいときは、\を使う。

- 文字列の比較  
  `==`で同じ値かどうかを、`!=`で異なる値かどうかを調べられる。  
  `<, <=, >, >=`でバイト値の大小関係を比較できる。  
  `bytes`メソッドでバイト値の具体的な値を確認できる。  

#### 数値

数値には`_`を含めることができるが、`_`は無視されるので、大きな数の区切り文字に使える。  
整数同士の割り算は小数点以下が切り捨てられるので、小数点以下の値が必要な時は、どちらかの値に小数点の`.0`をつけなければならない。  
変数に整数が入っている場合なら、`to_f`メソッドで少数に変更できる。  

- 演算子による値の比較  
  `<, <=, >, >=`で数値の大小を比較。  
  `==`で同じ値かどうかを、`!=`で異なる値かどうかを調べられる。  

- 演算子の優先順位  
  基本は四則演算と同じ。  
  他の優先順位は => [リファレンスマニュアル](https://docs.ruby-lang.org/ja/latest/doc/spec=2foperator.html)  
  `&&`じゃない`and`とか`||`じゃない`or`とかは優先順位が一番低いのであんまり使わなさそう。  
  `not`も基本`!`なのかな。  

- 変数に格納された数値の増減  
  Rubyには`++`や`--`のような演算子がないので、`+=`や`-=`等を使う。  
  `*=`、`/=`、`**=`もある。  

言語によっては数字っぽい文字列を数値とみなして計算できるものもあるが、Rubyは明示的に文字列を数値に変換しなければならない。  
文字列に数値を直接連結することもできない。  
式展開時には自動で数値を文字列に変換してくれる。  

Rubyでは少数を扱うときに丸め誤差が起こるが、Rationalクラスを使うと、丸め誤差を回避できる。  
`0.1r`のようにrをつけると、Rationalクラスの数値になる。  
変数の値をRationalクラスの値にしたいときは、`rationalize`メソッドを使うと変換できる。  
ほかに`BigDecimal`クラスを使うという方法もある。  
