※スクール内timesの移植（2025/09/28）

- 学習時間：3h/16h/1101h
- 学習内容：楽天API検証

楽天APIの検証つづき。  
楽天APIの検索結果はつねにオブジェクトが返ってくるので、`present?`だと常に`true`になってしまうようです。  
`any?`だとオブジェクト内の要素が存在しないなら`false`が返ってくるのでこっちで検索結果が0かどうか判定できそうです。  
これで商品価格ナビ製品検索APIの検索結果が0なら楽天市場商品検索APIに切り替えが実装できそう。  

検索にはProductモデルのnameカラムの値を使おうと思って、今保存されてるものやこれから保存していくもので検索かけてみましたが、思ってたより引っ掛からないのでちょっとnameカラムの値を編集したりする必要あるかも…。  
個人的に厄介だなと思うのがマルチSKU商品というもので、一ページにシリーズ商品が全部まとめられているものが引っ掛かってくるのですが、たいてい商品画像がシリーズ商品全部→個別の商品画像みたいになっているので、狙った特定の商品画像を持ってくるのが不可能なので、どうしようかなと思ってます。  
マルチSKU商品をピンポイントで除外できる設定とかもないようなので、諦めてシリーズ商品全部載ってる写真使うか…。  
登録の時に楽天APIの検索結果を出して選ばせるか、どうしようかな。  
登録するときに勝手に紐づいてる方が楽だよなと思うけど、それなら個人的に適切とはいいがたい結果が紐づくのも容認しないとだよなー。  
ちょっと考えます。  

