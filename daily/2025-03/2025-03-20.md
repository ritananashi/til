※スクール内timesの移植（2025/09/04）

- 学習時間：6h30min/20h30min/682h30min
- 学習内容：卒制

今日はフラッシュメッセージの調整とI18nでの日本語化、（仮）マイページ作成をしてました。  
Deviseのフラッシュメッセージのキーは`alert`と`notice`が使われていて、このキーに合わせてフラッシュメッセージを出し分けしてました。  
最初は普通に`if文`で書いてたんですけど、なんかあんまりぶさいくだな…と思って他に方法がないか調べたりしてました。  
[公式のissue](https://github.com/heartcombo/devise/issues/2051#issuecomment-381444285)にヘルパー作って`case文`で分岐するというやり方があってなるほどなあとおもいました。  
この後、フラッシュに動的なスタイルが適用されない問題が発生して、なんでや…としてました。  
開発者モードでみたらソースコードでCSSは生成されているけど、Elementタブには認識されてないみたいでした。何故…。  
DaisyUIのソースをコピペでやると反映されるので、さらに謎。  
タイポ？と思ったけど自力でタイポを見つけられないタイプの人間なのでGPTくんに誤字ある？って聞いたりしてました。  
そうしたら、TailwindのJITモードとsafelistについて指摘を受けたので、調べました　→　[Tailwind CSSの嬉しいけど嬉しくない機能 - Just In Time Mode](https://zenn.dev/maronn/articles/f66768982a2082)  
> この機能は Tailwind CSS で設定されているスタイルの定義をプロジェクトに全てビルドするのではなく、プロジェクト内で使用されているスタイルのみをビルドする機能となっています。
...
先程説明したように、Tailwind CSS は使用していないクラスについてコードを生成しないようになっています。
そして、この使う・使わないは静的な解析によって行われます。
そのため、今回のような動的にクラスを設定するような書き方では Tailwind CSS 側が使用していると認識せず、スタイルが適用されない事象が発生します。
Just In Time Mode はとても便利な機能ですが、動的クラスを使用する場合はこのような注意が必要となります。
  

こ、こいつかー！！！ありがた迷惑！！！  
というわけで、DaisyUIを使っているのもありtailwind.config.jsにsafelistを設定しました。  
TailwindCSSとの闘いで時間をくわれているので、ここを何とかしたいなあと思いました。（Bootstrap使え）（それは…そうなんですが…）  
