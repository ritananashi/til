※10/17はRUNTEQカリキュラムのみ

:open_book:教材：[駆け出しエンジニアのためのDocker入門](https://www.udemy.com/course/docker-startup/?couponCode=PLOYALTY0923)

### コンテナによるアプリケーション環境の構築  
コンテナは隔離された空間で、基本的に1コンテナにつき1プロセスとなっている。  
ウェブサーバー、アプリケーションサーバー、データベースサーバーのそれぞれが、隔離された空間にいる。  
隔離された空間のままでは、お互いの通信ができないので、サーバーっぽいアプリケーションのようなふるまいはできないが、[リンクオプション](https://docs.docker.jp/engine/userguide/networking/default_network/dockerlinks.html)を使うことでそれぞれのコンテナ同士の通信ができるようになる。  
例えば、リクエストがNGINXにきて、NGINXに来た処理をPHPで処理、PHPがデータが必要と判断した時はMySQLデータベースにデータを取りに行って、リクエストしてくれた相手に返す。  
...というような感じで、コンテナ間で連携して、普通のサーバーに各ソフトをインストールさせた時と同じ動きができるようになる。  
しかし、複数のコンテナの管理が大変になってしまう。これを解決するのが`docker compose`。  
なお、[Dockerドキュメント](https://docs.docker.jp/engine/userguide/networking/default_network/dockerlinks.html)によると  
> Docker の `--link` フラグは過去の機能です。 そのうちに削除されるかもしれません。 この機能を確実に必要としているのでなければ `--link` を使わず、2 つのコンテナ間の通信を実現するユーザ定義のネットワークを利用することをお勧めします。 `--link` に存在していて、ユーザ定義のネットワークにない機能は、コンテナ間で環境変数を共有できる機能です。 ただしボリュームのような別の機能を使えば、コンテナ間での環境変数の共有は、より制御しやすく利用できます。

...とのこと。
 
### Dockerのコマンドについて（途中まで）  
- `docker login`  
  Docker Hubにログインできる。  
- `docker run イメージ名`  
  Dockerコンテナをひとつ起動する。  
  パソコンにあるDocker imageからDockerコンテナを起動する。  
  Docker imageがローカルにないときは、Docker Hubから自動的にDLしてくれる（なので`docker login`しとかないとpull制限がかかる）。  
  `--rm`でコンテナが停止した後コンテナを消してくれる。 
  `--name`でコンテナに任意の名前を付けられる。  
- `docker ps`   
  起動中のコンテナを表示する。  
  停止中のコンテナは表示されないので、表示させたいときは`-a`オプションを付ける。  
- `docker start コンテナ指定`
  ※コンテナ指定はコンテナIDかコンテナ名のこと  
  コンテナを起動する。  
- `docker stop コンテナ指定`  
  コンテナを停止する。  
- `docker restert コンテナ指定`  
  コンテナを再起動する。  
- `docker exec コンテナ指定 実行コマンド`  
  起動中のコンテナ内でコマンドを実行する。 
  - 起動中のコンテナに入らずにコマンドを実行する。
  - `-it`オプションを使うとコンテナに入ることができる。  
    この時は`docker exec -it コンテナ指定 /bin/bash`になる？
