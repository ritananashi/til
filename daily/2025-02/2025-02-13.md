
📖[プロを目指す人のためのRuby入門［改訂2版］ 言語仕様からテスト駆動開発・デバッグ技法まで](https://gihyo.jp/book/2021/978-4-297-12437-3)

#### 繰り返し処理用の制御構造（つづき）

- 繰り返し処理で使うbreakとreturnの違い  
  **挙動が複雑になるので極力使わないようにした方がいい**  
  `return`はメソッドそのものからの脱出するキーワード。  
  あくまでもメソッドから脱出するキーワードなので、`return`を呼び出した場所がメソッドの内部でなければエラーになる。  
  `break`と`return`は繰り返し処理からの脱出とメソッドからの脱出という大きな違いがあるので、用途に応じて適切に使い分ける必要があるが、挙動が複雑になるので極力使わない方がいい。

- next  
  繰り返し処理を中断し、次の繰り返し処理に進めるキーワード。  
  `each`、`for`、`while`、`until`などで使える。入れ子になった繰り返し処理では一番内側のループだけが中断の対象になる。
- redo  
  繰り返し処理をやり直したいときにつかうキーワード。  
  初回からではなく、その回の繰り返し処理の最初に戻る。  
  状況によっては永遠にやり直しが続いてしまい、意図せず無限ループを作ってしまうので、やり直し回数を制限したほうがいい。

5章　ハッシュとシンボルについての章。ハンズオンは長さの単位変換プログラムの作成。

#### ハッシュ

キーと値の組み合わせでデータを管理するオブジェクト。  
ハッシュを作成するときは、ハッシュリテラルを使う。  
キーと値の組み合わせが一つの要素となる。  
```ruby
# 空のハッシュ
{}
# キーと値の組み合わせが一つの要素になる。
{ キー1 => 値1, キー2 => 値2, キー3 => 値3 }
```
- 要素の追加、変更、取得  
  後から新しい要素を追加するときは`ハッシュ[キー] = 値`と書く。  
  すでにキーが存在していた時は、値が上書きされる。  
  ハッシュから値を取り出すときは`ハッシュ[キー]`でキーを指定して取り出す。  
  存在しないキーを指定するとnilが返る。  

- ハッシュを使った繰り返し処理  
  eachメソッドを使うと、キーと値の組み合わせを順番に取り出すことができる。  
  ブロックパラメータは`|key, value|`のように2個になる。  
  ブロックパラメータを一つにすると、キーと値が配列に格納される。  

- ハッシュの同値比較、要素数の取得、要素の削除  
  `==`でハッシュ同士を比較すると、同じハッシュかどうかチェックできる。  
  キーと値がすべて同じであれば、trueが返る。  
  `size`メソッドを使うと八署の要素の個数を調べることができる。  
  `delete`メソッドで指定したキーに対応する要素を削除できる。削除された要素の値が戻り値になる。

  
