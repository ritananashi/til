
📖[プロを目指す人のためのRuby入門［改訂2版］ 言語仕様からテスト駆動開発・デバッグ技法まで](https://gihyo.jp/book/2021/978-4-297-12437-3)

※FizzBuzzのコードは世にあふれているので略

#### 文字列についてもっと詳しく

- 文字列はStringクラスのオブジェクト  
  文字列はすべてStringクラスのオブジェクトとなる。`class`メソッドを呼び出すとクラス名を確認できる。  
- %記法で文字列を作る  
  %記法でも文字列を作ることができる。  
  %記法を使えば、''や""をバックスラッシュでエスケープしなくてよくなる。  
  ```ruby
  puts %q!"Hello world"! #=> "Hello world"
  # %q! !は''で囲むのと同じ
  greet = Hello
  puts %Q!"#{greet}"! # => "Hello"
  puts %!"#{greet}"! # => "Hello"
  # %Q! !と%! !はどちらも""で囲むのと同じ。
  ```
  `! !`を区切り文字として使っているが、任意の記号を区切り文字として使える。[]なども使える。  
  ルーティングのところとかで使ってるやつ。  
- ヒアドキュメント  
  文字列は途中で開業できる。が、複数行にわたる長い文字列を作成するときはヒアドキュメント（行指向文字列リテラル）を使った方がすっきりかける。
  ```ruby
  <<識別子
  1行目
  2行目
  3行目
  識別子
  # みたいにかく
  def some_method
    <<-識別子
  1行目
  2行目
    識別子
  end
  # <<-を使うと最後の識別子をインデントさせることができる。
  def some_method
    <<~識別子
      1行目
      \  2行目
      #{sample}
    識別子
  # <<~を使うと内部のインデント部分が無視される。
  # \を使うと行頭を指定できる。
  # ヒアドキュメントの中では、式展開も使える。
  # 識別子を''で囲うと式展開が無効になる。
  ```
  識別子は自由に付けられるが、慣習として大文字にすることが多い。  
  開始ラベルの`<<識別子`は一つの式とみなされるため、`<<識別子`をメソッドの引数として渡したり、`<<識別子`に対してメソッドを呼び出したりすることができる。  
- フォーマットを指定して文字列を作成する  
  `sprintf`メソッドを使うと、指定されたフォーマットの文字列を作ることができる。  
  `フォーマット文字列 % 表示したいオブジェクト`の形式で書いても`sprintf`メソッドと同じ結果が得られる。  
  詳細 → [リファレンスマニュアル](https://docs.ruby-lang.org/ja/latest/doc/print_format.html)
- その他  
  `join`メソッドで配列の各要素を連結して一つの文字列にできる。  
  `*演算子`を使って文字列を指定した回数繰り返すことができる。  
  `String.new()`で新しい文字列を作れるが、あまり使わない。  
  文字列と文字列の間に空白を挟むと１つの文字列リテラルとみなされるが、めったにやらない書き方。記述ミスと勘違いされるかもなので、使わない方がいい。  
  ```ruby
  'abc' 'def'
  #=> "abcdef"
  ```
  ダブルクオートと\uを組み合わせてUnicodeのコードポイントから文字列を作成することもできる。  
- 文字と文字列の違いはない。  
  Rubyでは文字も文字列もStringオブジェクトとして扱うため、文字と文字列に違いはない。  
  あまり使われないが`?`を使って1文字だけの文字列を作ることもできる。  
