
📖[プロを目指す人のためのRuby入門［改訂2版］ 言語仕様からテスト駆動開発・デバッグ技法まで](https://gihyo.jp/book/2021/978-4-297-12437-3)

#### 数値についてもっと詳しく

- 基数指示子を用いた整数リテラル  
  先頭に基数指示子を付けると、10進数以外の記数法で整数値を書くことができる。
  - 0b　→　2進数
  - 0または0o　→　8進数
  - 0x　→　16進数
  - 0d　→　10進数（使わない）
- ビット演算  
  次の演算子を使ってビット演算ができる。
  - `&`：ビットごとの論理積
  - `|`：ビットごとの論理和
  - `^`：ビットごとの排他的論理和
  - `>>`：右ビットシフト
  - `<<`：左ビットシフト
  - `~`：ビットごとの論理反転
- 指数表現  
  指数表現を使って浮動小数点を表すこともできる
- 数値クラス
  - Integer　→　整数
  - Float　→　少数
  - Rational　→　有理数
  - Complex　→　複素数

  すべてNumberクラスのサブクラス。  
  値の種類によってクラスが異なるため、メソッドを調べるときは適切なクラスの公式リファレンスを参照する。

#### 真偽値と条件分岐についてもっと詳しく

- &&や||の戻り値と評価を終了するタイミング  
  Rubyは式全体がtrueまたはfalseであることが決定するまで、左から順に式を評価していく。式全体のtrueまたはfalseが確定すると、式の評価を終了して最後に評価した式の値を返す。  
  `&&`のときは、式の中にnilが入ると、nilを評価した時点で式全体の真偽値が偽になるので、nilで評価が終了してnilを返す。nilはfalseなので。  
  `||`の時も、順番に評価していってtrueになったところで評価が終わって、返り値に最後に評価した値を返す。  
  式の戻り値や、真偽値が確定した時点で評価が終了することを活用してコードを書くこともある。  
- 優先順位が低いand、or、not  
  それぞれ`&&`、`||`、`!`に近い動きをするが、演算子の優先順位が`&&`、`||`、`!`よりも低いので、まったく同じように使うことはできない。
  ```ruby
  t1 = true
  f1 = false
  !f1 || t1 #=> true
  # !(f1) || t1と書くのと同じ
  not f1 = t1 #=> false
  # !(f1 || t1)と書くのと同じ。
  ```
  また、`&&`、`||`と違って`and`と`or`には優先順位に違いがないので、()を使わない場合は左から右に真偽値が評価されていく。  
  `and`と`or`は条件分岐ではなく、制御フローを扱うのに向いている。
- unless文  
  条件式がfalseの時だけ処理を実行する。ifの逆。  
  `else`を使って条件がfalseじゃなかった場合の処理も書くことができるが、`elsif`は存在しない。  
  if + 否定条件はunless + 肯定条件に書き直すことができるが、if文のほうが読みやすいと思ったときはif + 否定条件のままにしておいても良い。
- case文  
  オブジェクトや式を複数の値と比較するときはこっちで書いたほうがシンプルになる。  
  when節に複数の値を指定して、どれかに一致すれば処理を実行するという条件分岐が書ける。  
  case文も、最後に評価された式を戻り値として返すので、vase文の結果を変数に入れられる。  
  whenにはthenを使うことができる。値には、範囲オブジェクトや正規表現オブジェクト、クラスオブジェクトを使うこともできる。
- 条件演算子（三項演算子）  
  `?`と`*`を使って条件分岐を書ける。  
  `式 ? 真の時の処理 : 偽の処理`  
  条件分岐した結果を変数に入れることもできる。  
  シンプルなif文なら条件演算子を使った方がすっきりかける。複雑な時は読みづらくなるので、状況に合わせて利用する。
  
