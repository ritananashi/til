※スクール内timesの移植（2025/09/16）

ActiveStorageから直で動的OGPできない感じ？マジで？  
あ、いけたかも。  
public: true指定してプロキシモードで配信すればいけるっぽい  
あ、public: trueの指定する必要すらないかも。  
プロキシモードだけでいける  
間にCDN挟んだ方がいいのかな

- 学習時間：2h（5/26） + 4h（5/27）/6h/952h
- 学習内容：卒制

昨日、やるか、動的OGP…と思ってやろうとしたけど途中で気持ち悪くなって断念…。  
今日続きをやってました。

普通ににset_meta_tagsにレビューに添付されてる一枚目の画像を設定して～～～とやろうとしたのですが、画像がうまく表示されなくてどうしたもんかなとしてました。  
ActiveStorageの`url_for`だとリダイレクトモードというので画像が配信されます。  
永続的なblob URLを生成できるとガイドに書いてあったのでこれかなと思ってやってたのですが、どうもこれじゃダメみたいです。  
URLからさらにファイルのURLにリダイレクトする？のでクローラがうまく画像取得してくれないみたいです。  
というわけでリクエストされたファイルをActiveStorageがストリーミングするプロキシモードにしてみたところ、OGP確認サイトでOGP画像が反映されているのが確認できました。  
ただ、プロキシモードはサーバーへの負荷が大きいようなので、間にCDNとかを挟んだ方がいいのかな～～～と考えてます。

