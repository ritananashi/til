※スクール内timesの移植（2025/09/19）

- 学習時間：4h30min/18h/984h
- 学習内容：卒制

RUNTEQ祭で受賞された方、おめでとうございます～～～！  
どれもこれも素敵なアプリばかりで投票するの迷いました。  
FIRST HIT一位ですってドヤろうとしたら同点の人いたのでやめました。  

パスワードリセット機能作ってました。  
基本はDeviseの機能そのままです。  
Deviseのパスワードリセット機能はデフォルトだと
- 登録されていないメールアドレスが入力されたらエラーメッセージを表示する
- パスワード再設定後、自動でログインする

という感じになっています。  
`登録されていないメールアドレスが入力されたらエラーメッセージを表示する`のは入力間違いしたときに便利そうですが、`どのメールアドレスが登録されているのか`が悪意のある第三者にもわかってしまいます。  
セキュリティ的に良くないので、`Deviseのparanoidモード`を設定でtrueにして、どんなメールアドレスが入力されても登録されてるメールアドレスが入力されたときと同じ対応をとるようにしました。  
`パスワード再設定後、自動でログインする`も便利そうですが、パスワードリセットのトークンが流出したときに不正ログインされてしまいます。  
なので、`update`アクションと`after_resetting_password_path_for`メソッドをオーバーライドして再設定後の専用ページに遷移するように変更しました。  
`update`アクションの中に`sign_in`という認証済みのユーザーをログインさせるメソッドが使われているので、`update`アクションもオーバーライドして`sigun_in`メソッドの部分を消さないとログインしてしまいます。  
ここ二つを変えて、再設定後に表示するページを作ってルーティング設定しました。  
本番環境のメールとかはRailsガイド等参照で特に詰まらずできました。Gmailです（楽）。  
あとはパスワード再設定のメール送信後のページをデフォルトから変えたりしてました。  
あとはパスワードの編集機能作ったらテスト書いてCI設定して本リリースです。  
延長レポート出したので（通れば）わりと余裕をもって進めていけそうです。  

